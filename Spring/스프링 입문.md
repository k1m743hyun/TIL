# 스프링 입문


## 스프링 프로젝트 생성


### 사전 준비물
- Java 11
- IDE: IntelliJ or Eclipse


### Spring Initializr
![Spring Initializr](./images/spring-initializr.png)
- [start.spring.io](https://start.spring.io/)
  - 생성할 프로젝트 설정
    - Project: Gradle Project
    - Language: Java
    - Spring Boot: 2.7.2
    - Project Metadata
      - group: hello
      - Artifact: hello-spring
      - Java: 11
    - Dependencies: Spring Web , Thymeleaf
  - 설정 완료 후 Generate 클릭
  - zip 파일 다운로드 완료 후 압축 해제
  - IntelliJ 실행 후 압축 해제한 디렉토리 열기


## 스프링 프로젝트 실행
- `src/main/java/hello.hellospring/HelloSpringApplication.java` 파일 열기
- `main` 메서드 실행
- 웹 브라우저에 `http://localhost:8080` 입력
- **Whitelabel Error Page** 에러 페이지가 나타나는 것으로 동작 확인
![Error Page](./images/error-page.png)


## IntelliJ에서 Gradle 대신에 Java로 직접 실행하도록 설정
최근 IntelliJ는 로컬에 설치된 Gradle을 통해서 실행하는 것이 기본 설정으로 되어 있다. 이렇게 하면 실행 속도가 느리다.
아래와 같이 변경하면 Java로 바로 실행해서 실행속도가 더 빠르게 할 수 있다.
![IntelliJ Preferences](./images/intellij-preferences.png)
- Preferences -> Build, Execution, Deployment -> Build Tools -> Gradle
  - Build and run using: Gradle -> IntelliJ IDEA
  - Run tests using: Gradle -> IntelliJ IDEA


## 라이브러리 살펴보기
> Gradle은 의존 관계가 있는 라이브러리를 함께 다운로드한다.


### Spring Boot Library
- spring-boot-starter-web
  - spring-boot-starter-tomcat: 톰캣 (웹 서버)
  - spring-webmvc: 스프링 웹 MVC
- spring-boot-starter-thymeleaf: 타임리프 템플릿 엔진 (View)
- spring-boot-starter(공통): 스프링 부트 + 스프링 코어 + 로깅
  - spring-boot
    - spring-core
  - spring-boot-starter-logging
    - logback, slf4j


### Test Library
- spring-boot-starter-test
  - junit: 테스트 프레임워크
  - mockito: mock 라이브러리
  - assertj: 테스트 코드를 좀 더 편하게 작성하게 도와주는 라이브러리
  - spring-test: 스프링 통합 테스트 지원


## View 환경설정


### Welcome Page 만들기
- Spring Boot가 제공하는 Welcome Page 기능
  - `static/index.html`을 올려두면 Welcome Page 기능을 제공한다.
  - [Welcome Page: Spring Boot Reference Documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.spring-mvc.welcome-page)


### thymeleaf 템플릿 엔진
- 동작 확인
  - 웹 브라우저에 `http://localhost:8080/hello` 입력
  - 아래와 같은 페이지가 나오는 것으로 동작 확인
![hello Page](./images/hello-page.png)
- 동작 환경
![Running Environment](./images/running-env.png)
  - Controller에서 Return 값으로 문자를 반환하면 viewResolver가 화면을 찾아서 처리한다.
  - 스프링 부트 템플릿 엔진 기본 viewName 매핑
    - `resources:templates/` + **{ViewName}** + `.html`
- 관련 문서
  - [thymeleaf 공식 사이트](https://www.thymeleaf.org/)
  - [스프링 공식 튜토리얼](https://spring.io/guides/gs/serving-web-content/)
  - [스프링 부트 매뉴얼](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-spring-mvc-template-engines)


## 빌드하고 실행하기
- `./gradlew build`
- `cd build/libs`
- `java -jar hello-spring-0.0.1-SNAPSHOT.jar`
- 동작 확인


# 출처
- [[인프런] 스프링 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술
 (5.0)](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9E%85%EB%AC%B8-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8)
